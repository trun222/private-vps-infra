############################################
# Infisical Environment Variables
# ~/srv/apps/infisical/.env
############################################

############################
# CRITICAL SECURITY KEYS
# Generate these ONCE and back them up!
# Losing these means losing access to secrets!
############################

# 32-byte hex encryption key for secrets at rest
# Generate with: openssl rand -hex 16
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_16

# JWT signing secret (random string, 32+ chars)
# Generate with: openssl rand -base64 32
AUTH_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32


############################
# Database Connection
# Uses shared PostgreSQL cluster
############################

# Connection URI for PostgreSQL
# Format: postgresql://user:password@host:port/database
# The infisical user/database is created by the postgres init script
DB_CONNECTION_URI=postgresql://infisical:CHANGE_ME_INFISICAL_DB_PASSWORD@postgres:5432/infisical


############################
# Redis Connection
############################

# Redis URL (uses the infisical-redis container)
REDIS_URL=redis://infisical-redis:6379


############################
# Site Configuration
############################

# Public URL where Infisical will be accessible
# This is used for generating links, OAuth redirects, etc.
SITE_URL=https://secrets.scalor.app

# Disable telemetry (optional)
TELEMETRY_ENABLED=false


############################
# SMTP Configuration (Optional)
# Required for email invitations and alerts
############################

# SMTP server settings
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=
SMTP_FROM_NAME=Infisical


############################
# Setup Instructions
############################
#
# 1. Generate security keys:
#    ENCRYPTION_KEY=$(openssl rand -hex 16)
#    AUTH_SECRET=$(openssl rand -base64 32)
#
# 2. Update the PostgreSQL password in DB_CONNECTION_URI
#    to match what's set in ~/srv/apps/postgres/.env
#    (INFISICAL_PASS variable)
#
# 3. Update SITE_URL if using a different subdomain
#
# 4. (Optional) Configure SMTP for email features
#
# 5. Start the services:
#    cd ~/srv/apps/infisical && docker compose up -d
#
# 6. Access at: https://secrets.scalor.app
#    Create your first admin account on first visit
#
